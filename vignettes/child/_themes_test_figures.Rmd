```{r {{theme}}-data}
data("esoph")
cancer <- esoph
cancer$Age <- cancer$agegp
cancer$Alcohol <- cancer$alcgp
cancer$Tabacco <- cancer$tobgp
cancer$Proportion <- cancer$ncases / (cancer$ncases + cancer$ncontrols)
```

```{r {{theme}}-font, fig.cap = "Testing fonts"}
d <- data.frame(
  x = "Sphinx of black quartz, judge my vow",
  y = "Sphinx of\nblack quartz,\njudge my vow"
)
ggplot(d, aes(x = x, y = x, label = y, colour = y)) +
  geom_text(size = 8) +
  labs(x = d$x, y = d$x, title = d$x, colour = d$y) +
  theme(axis.text.y = element_text(angle = 90, hjust = 0.5))
```


```{r {{theme}}-boxplot, fig.cap = "geom_boxplot()"}
ggplot(cancer, aes(x = Age, y = Proportion)) +
  geom_boxplot() +
  ggtitle("cancer dataset")
```

```{r {{theme}}-histogram-facet, fig.cap = "geom_histogram() + facet_wrap()"}
ggplot(cancer, aes(x = Proportion)) +
  geom_histogram(binwidth = 0.05) +
  facet_wrap(~Age, scales = "free") +
  ggtitle("cancer dataset")
```

```{r {{theme}}-histogram-gradient-grid, fig.cap = "geom_histogram() + scale_fill_gradient() + facet_grid()"}
ggplot(cancer, aes(x = Proportion)) +
  geom_histogram(aes(fill = ..count..), binwidth = 0.05) +
  facet_grid(Alcohol ~ Tabacco, scales = "free") +
  scale_fill_gradient() +
  ggtitle("cancer dataset")
```

```{r {{theme}}-point-gradient, fig.cap = "geom_point() + scale_colour_gradient()"}
data("diamonds")
ggplot(diamonds, aes(x = carat, y = depth, colour = price)) +
  geom_point() +
  scale_colour_gradient()
```

```{r {{theme}}-categorical-2, fig.cap = "Coloured by two level categorical variable"}
data("infert")
infert$case <- factor(infert$case, 0:1, c("control", "case"))
ggplot(infert, aes(x = age, y = parity, colour = case)) +
  geom_jitter()
```

```{r {{theme}}-categorical-3, fig.cap = "Coloured by three level categorical variable"}
data("iris")
ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, colour = Species)) +
  geom_point()
```


```{r {{theme}}-categorical-4, fig.cap = "Coloured by four level categorical variable"}
data("EuStockMarkets")
year <- as.numeric(time(EuStockMarkets))
data.frame(year, value = as.numeric(EuStockMarkets[, "DAX"]), index = "DAX") |>
  rbind(
    data.frame(year, value = as.numeric(EuStockMarkets[, "SMI"]), index = "SMI")
  ) |>
  rbind(
    data.frame(year, value = as.numeric(EuStockMarkets[, "CAC"]), index = "CAC")
  ) |>
  rbind(
    data.frame(
      year, value = as.numeric(EuStockMarkets[, "FTSE"]), index = "FTSE"
    )
  ) |>
  ggplot(aes(x = year, y = value, colour = index)) +
  geom_line()
```

```{r {{theme}}-categorical-5, fig.cap = "Coloured by five level categorical variable"}
data("ChickWeight")
ggplot(ChickWeight, aes(x = Time, y = weight, colour = Diet, group = Chick)) +
  geom_line()
```

```{r {{theme}}-categorical-6, fig.cap = "Coloured by six level categorical variable"}
data("chickwts")
ggplot(chickwts, aes(x = weight, colour = feed)) +
  geom_density()
```

```{r {{theme}}-categorical-8, fig.cap = "Coloured by eight level categorical variable"}
npk$design <- interaction(npk$N, npk$P, npk$K)
ggplot(npk, aes(x = yield, colour = design)) +
  geom_density()
```

```{r {{theme}}-histogram-oridinal, fig.cap = "geom_histogram() with ordinal data"}
ggplot(diamonds, aes(x = price, fill = cut)) +
  geom_histogram(binwidth = 1000)
```

```{r {{theme}}-tile-gradient-detail, fig.cap = "geom_tile() + scale_fill_gradient()"}
ggplot(pp(20), aes(x = x, y = y, fill = z)) +
  geom_tile() +
  scale_fill_gradient()
```

```{r {{theme}}-tile-gradient2, fig.cap = "geom_tile() + scale_fill_gradient2()"}
ggplot(pp(20), aes(x = x, y = y, fill = z)) +
  geom_tile(width = 0.8, height = 0.8) +
  scale_fill_gradient2(midpoint = 20)
```
